<!DOCTYPE html>
<html lang="en" class="loading">
<head>
  <meta charset="UTF-8">
  <title>Connecting The Dots Corporation</title>
  <meta name="color-scheme" content="dark">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>

  <!-- Background Video -->
  <video autoplay muted loop playsinline id="background-video">
    <source src="videos/body-background.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <div class="video-overlay"></div>

  <!-- Navigation -->
  <nav>
    <div class="nav-left">
      <img src="images/CTDC.png" alt="CTD Logo" class="logo">
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
    <div class="nav-right" id="user-info" style="display:none;">
      <span id="user-name"></span>
      <img id="user-picture" src="" alt="Profile Picture" class="profile-pic">
      <button id="auth-button"></button>
    </div>
  </nav>

<!-- Main Content -->
<main class="home">
  <h1>Welcome to Connecting The Dots Corporation</h1> 
 
  <section>
    <h2>Overview</h2>
    <p>
      ConnectingTheDots Corporation is a forward-thinking company dedicated to advancing sustainable development through innovative training solutions. Our goal is to bridge the gap between knowledge and action by providing individuals and organisations with the tools and expertise needed to foster sustainable practices and drive meaningful environmental, social, and economic change.
    </p>
  </section>

  <section>
    <h2>Mission Statement</h2>
    <p>
      To empower individuals and organisations with transformative training programmes that promote sustainable development, enabling them to make informed decisions and implement effective practices for a better future.
    </p>
  </section>

  <section>
    <h2>Core Values</h2>
    <ul>
      <li><strong>Sustainability:</strong> We are dedicated to supporting practices that contribute to the long-term health of our planet and its inhabitants.</li>
      <li><strong>Innovation:</strong> We embrace cutting-edge research and technologies to deliver impactful and relevant training.</li>
      <li><strong>Integrity:</strong> We maintain the highest standards of ethical conduct in all our engagements.</li>
      <li><strong>Collaboration:</strong> We value partnerships and work with stakeholders to achieve collective goals in sustainability.</li>
    </ul>
  </section>

  <section>
    <h2>Services</h2>
    <h3>Corporate Training Programmes</h3>
    <ul>
      <li>Customised workshops and seminars focused on sustainability topics such as waste management, energy conservation, and sustainable supply chains.</li>
      <li>Leadership development programmes aimed at driving organisational change towards sustainability.</li>
    </ul>

    <h3>Educational Courses</h3>
    <ul>
      <li>Certification courses covering a range of sustainability topics, including environmental management, green building practices, and corporate social responsibility.</li>
      <li>Flexible online courses for learners at different stages of their sustainability journey.</li>
    </ul>
  </section>
  
</main>

  <script>
    const userInfo = document.getElementById('user-info');
    const userName = document.getElementById('user-name');
    const userPicture = document.getElementById('user-picture');
    const authButton = document.getElementById('auth-button');

    function updateUI() {
      const idToken = localStorage.getItem('id_token');

      if (idToken) {
        const payload = JSON.parse(atob(idToken.split('.')[1]));
        userName.textContent = payload.name || 'User';
        userPicture.src = payload.picture || 'images/default-profile.png';
        userPicture.style.display = 'block';
        authButton.textContent = 'Logout';
        authButton.onclick = logout;
        userInfo.style.display = 'flex';
      } else {
        userName.textContent = '';
        userPicture.style.display = 'none';
        authButton.textContent = 'Sign In';
        authButton.onclick = login;
        userInfo.style.display = 'flex';
      }
    }

    function login() {
      const clientId = '6bjca1d6b150dohsmob5uqp6sv';
      const redirectUri = 'https://www.connectingthedotscorp.com/dashboard.html';
      const loginUrl = `https://auth.connectingthedotscorp.com/login?client_id=${clientId}&response_type=code&scope=email+openid+profile&redirect_uri=${redirectUri}`;
      window.location.href = loginUrl;
    }

    function logout() {
      localStorage.removeItem('id_token');
      localStorage.removeItem('access_token');
      const clientId = '6bjca1d6b150dohsmob5uqp6sv';
      const logoutUrl = `https://auth.connectingthedotscorp.com/logout?client_id=${clientId}&logout_uri=https://www.connectingthedotscorp.com`;
      window.location.href = logoutUrl;
    }

    window.addEventListener('load', updateUI);
  </script>

</body>
</html>
